@model IEnumerable<Firma.Data.Data.Towar>

@{
    ViewData["Title"] = "Sklep z Herbatą";
}

<h3 class="center-align header teal-text">Nasze Herbaty</h3>
<div class="row section grey lighten-4" style="padding: 20px; border-radius: 10px;">
    <form asp-action="Index" method="get">

        <div class="input-field col s12 m5">
            <i class="material-icons prefix">search</i>
            <input type="text" name="szukanaFraza" id="szukanaFraza" value="@ViewBag.Fraza" />
            <label for="szukanaFraza">Szukaj herbaty...</label>
        </div>

        <div class="input-field col s12 m4">
            <select name="idRodzaju" asp-items="ViewBag.Rodzaje">
                <option value="">Wszystkie kategorie</option>
            </select>
            <label>Wybierz kategorię</label>
        </div>

        <div class="col s12 m3 center-align" style="margin-top: 20px;">
            <button type="submit" class="btn waves-effect waves-light teal darken-2">
                Filtruj
                <i class="material-icons right">filter_list</i>
            </button>
        </div>

    </form>
</div>
<div class="row">

    <div class="col s12 m9">
        <div class="row">
            @foreach (var towar in Model)
            {
                <div class="col s12 m4">
                    <div class="card hoverable">
                        <div class="card-image">
                            <img src="/Content/Images/@towar.FotoURL"
                                 onerror="this.src='https://placehold.co/300x200?text=Brak+Zdjecia'"
                                 style="height: 200px; object-fit: cover;">
                            <a asp-controller="Koszyk" asp-action="DodajDoKoszyka" asp-route-id="@towar.IdTowaru"
                               class="btn-floating halfway-fab waves-effect waves-light red">
                                <i class="material-icons">add_shopping_cart</i>
                            </a>
                        </div>
                        <div class="card-content">
                            <span class="card-title truncate" style="font-size: 1.2em">@towar.Nazwa</span>
                            <span class="teal-text font-weight-bold">@towar.Cena zł</span>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>

    <div class="col s12 m3">
        <h5 class="teal-text"><i class="material-icons left">announcement</i>Aktualności</h5>

        @if (ViewBag.Aktualnosci != null)
        {
            foreach (var news in ViewBag.Aktualnosci as IEnumerable<Firma.Data.Data.Aktualnosc>)
            {
                <div class="card blue-grey darken-1">
                    <div class="card-content white-text">
                        <span class="card-title" style="font-size: 1.1em">@news.TytulTresci</span>
                        <p style="font-size: 0.9em;">@news.Tresc</p>
                    </div>
                    <div class="card-action">
                        <a href="#" class="yellow-text">@news.TytulOdnosnika</a>
                    </div>
                </div>
            }
        }
    </div>

</div>